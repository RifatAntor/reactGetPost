{"version":3,"sources":["components/AddBook.module.css","components/Book.module.css","components/BookList.module.css","components/AddBook.js","components/Book.js","components/BooksList.js","App.js","index.js"],"names":["module","exports","AddBook","props","titleRef","useRef","authorRef","descRef","onSubmit","event","preventDefault","enteredTitle","current","value","enteredAuthor","enteredDesc","trim","book","title","author","description","onAddBook","className","classes","control","htmlFor","type","id","ref","rows","isLoading","Book","BooksList","books","map","key","i","App","useState","setBooks","setIsLoading","error","setError","fetchBookHandler","fetch","response","ok","Error","json","data","console","log","loadedBooks","push","message","method","body","JSON","stringify","headers","content","length","Fragment","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b634f7a7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"AddBook_control__2cC6z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__1v32_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"books-list\":\"BookList_books-list__3_LRq\"};","import React, { useRef } from \"react\";\n\nimport classes from \"./AddBook.module.css\";\n\nfunction AddBook(props) {\n  const titleRef = useRef(\"\");\n  const authorRef = useRef(\"\");\n  const descRef = useRef(\"\");\n\n  function submitHandler(event) {\n    event.preventDefault();\n\n    const enteredTitle = titleRef.current.value;\n    const enteredAuthor = authorRef.current.value;\n    const enteredDesc = descRef.current.value;\n\n    if (enteredTitle.trim() === \"\") {\n      return;\n    }\n\n    if (enteredAuthor.trim() === \"\") {\n      return;\n    }\n\n    if (enteredDesc.trim() === \"\") {\n      return;\n    }\n\n    const book = {\n      title: enteredTitle,\n      author: enteredAuthor,\n      description: enteredDesc,\n    };\n    props.onAddBook(book);\n\n    titleRef.current.value = \"\";\n    authorRef.current.value = \"\";\n    descRef.current.value = \"\";\n  }\n\n  return (\n    <form onSubmit={submitHandler}>\n      <div className={classes.control}>\n        <label htmlFor=\"title\">Book name</label>\n        <input type=\"text\" id=\"title\" ref={titleRef} />\n      </div>\n      \n      <div className={classes.control}>\n        <label htmlFor=\"author\">Author</label>\n        <input type=\"text\" id=\"author\" ref={authorRef} />\n      </div>\n      <div className={classes.control}>\n        <label htmlFor=\"desc\">Description</label>\n        <textarea rows=\"5\" id=\"desc\" ref={descRef}></textarea>\n      </div>\n      {!props.isLoading && <button>Add Movie</button>}\n      {props.isLoading && <p>Loading...</p>}\n    </form>\n  );\n}\n\nexport default AddBook;\n","import React from 'react';\n\nimport classes from './Book.module.css';\n\nconst Book = (props) => {\n  return (\n    <li className={classes.book}>\n      <h2>{props.title}</h2>\n      <h3>{props.author}</h3>\n      <p>{props.description}</p>\n    </li>\n  );\n};\n\nexport default Book;\n","import React from \"react\";\n\nimport Book from \"./Book\";\nimport classes from \"./BookList.module.css\";\n\nconst BooksList = (props) => {\n  return (\n    <ul className={classes[\"books-list\"]}>\n      {props.books.map((book) => (\n        <Book\n          key={book.id}\n          title={book.title}\n          author={book.author}\n          description={book.description}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default BooksList;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport AddBook from \"./components/AddBook\";\nimport BooksList from \"./components/BooksList\";\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fetchBookHandler = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        \"https://react-gpost-default-rtdb.firebaseio.com/books.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n      const data = await response.json();\n      //check\n      console.log(data)\n      const loadedBooks = [];\n      for (const key in data) {\n        loadedBooks.push({\n          id: key,\n          title: data[key].title,\n          author: data[key].author,\n          description: data[key].description,\n        });\n      }\n      setBooks(loadedBooks);\n      \n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  };\n\n  // useEffect(() => {\n  //   fetchMovieHandler();\n  // }, [fetchMovieHandler]);\n\n  \n\n  async function addBookHandler(book) {\n    setIsLoading(true);\n    const response = await fetch(\n      \"https://react-gpost-default-rtdb.firebaseio.com/books.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(book),\n        headers: {\n          \"Content-Type\": \"aplication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    setIsLoading(false);\n    //check console\n    console.log(data);\n  }\n\n  let content = <p>No Books found</p>;\n  if (books.length > 0) {\n    content = <BooksList books={books} />;\n  }\n  if (error) {\n    content = <p>{error}</p>;\n  }\n  if (isLoading) {\n    content = <p>Loading ...</p>;\n  }\n\n  return (\n    <React.Fragment>\n      <section>\n        <AddBook onAddBook={addBookHandler} />\n      </section>\n      <section>\n        <button onClick={fetchBookHandler}>Fetch Books</button>\n      </section>\n      <section>{content}</section>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}